{"version":3,"file":"torusUtils.esm.js","sources":["../src/loglevel.ts","../src/some.ts","../src/utils.ts","../src/torus.ts"],"sourcesContent":[null,null,null,null],"names":["log","loglevel","getLogger","disableAll","capitalizeFirstLetter","str","charAt","toUpperCase","slice","SomeError","Error","constructor","errors","responses","predicate","Some","promises","Promise","resolve","reject","finishedCount","sharedState","resolved","errorArr","Array","length","fill","undefined","resultArr","predicateError","forEach","x","index","then","resp","catch","error","finally","data","Object","values","reduce","acc","z","id","startsWith","msg","map","it","join","message","GetOrSetNonceError","kCombinations","s","k","set","from","_","i","cur","combs","tailCombs","j","push","thresholdSame","arr","t","hashMap","JsonStringify","keyLookup","endpoints","verifier","verifierId","lookupPromises","post","generateJsonRPCObject","verifier_id","toString","err","lookupResults","lookupShares","filter","x1","errorResult","x2","keyResult","x3","result","JSON","stringify","waitKeyLookup","timeout","setTimeout","keyAssign","torusNodePubs","lastPoint","firstPoint","signerHost","network","nodeNum","initialPoint","Math","floor","random","signedData","headers","pubKeyX","X","pubKeyY","Y","useAPIKey","acceptedErrorMsgs","includes","keccak256","a","hash","createKeccakHash","update","digest","Torus","enableOneKey","metadataHost","allowHost","serverTimeOffset","ec","EC","enableLogging","v","enableAll","setAPIKey","apiKey","setEmbedHost","embedHost","isGetOrSetNonceError","getUserTypeAndAddress","doesKeyAssign","isNewKey","finalKeyResult","assignResult","pub_key_X","pub_key_Y","keys","nonceResult","nonce","modifiedPubKey","getOrSetNonce","BN","typeOfUser","keyFromPublic","y","getPublic","add","keyFromPrivate","pubNonce","finalX","getX","finalY","getY","address","generateAddressFromPubKey","upgraded","setCustomKey","privKeyHex","metadataNonce","torusKeyHex","customKeyHex","torusKey","privKey","sub","umod","curve","n","customKey","newMetadataNonce","generateMetadataParams","setMetadata","retrieveShares","indexes","verifierParams","idToken","extraParams","promiseArr","get","tmpKey","generatePrivate","pubKey","tokenCommitment","p","messageprefix","tokencommitment","temppubx","temppuby","verifieridentifier","completedRequests","promiseArrRequest","nodeSigs","encrypted","item","idtoken","nodesignatures","shareResponses","thresholdPublicKey","PublicKey","sharePromises","nodeIndexes","currentShareResponse","sort","b","Index","cmp","firstKey","Metadata","metadata","ephemPublicKey","Buffer","iv","mac","decrypt","ciphertext","Share","padStart","debug","sharesResolved","all","decryptedShares","curr","value","allCombis","privateKey","currentCombi","currentCombiShares","shares","indices","derivedPrivateKey","lagrangeInterpolation","decryptedPubKey","decryptedPubKeyX","decryptedPubKeyY","returnedKey","getNonce","getMetadata","ethAddress","generateAddressFromPrivKey","options","metadataResponse","key","setData","timestamp","Date","now","sig","sign","set_data","signature","r","nodeIndex","secret","upper","lower","mul","neg","temp","delta","invm","publicKey","encode","info","ethAddressLower","toChecksumAddress","publicKeyX","publicKeyY","getPublicAddress","isExtended","getOnly","getPostboxKeyFrom1OutOf1","privKeyBN","nonceBN"],"mappings":"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"}